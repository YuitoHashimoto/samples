(this.webpackJsonptemp=this.webpackJsonptemp||[]).push([[0],{57:function(e,t){},66:function(e,t,a){e.exports=a(87)},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return X}));var n=a(0),r=a.n(n),c=a(7),u=a.n(c),i=a(11),l=a(32),o=a(59),s=a(22),m=a(55),d=a(47),p=function(e){return{type:"SIGN_IN",payload:{isSignedIn:!0,role:e.role,uid:e.uid,username:e.username}}},f={users:{isSignedIn:!1,role:"",uid:"",username:""}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.users,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(d.a)(Object(d.a)({},e),t.payload);case"SIGN_OUT":return Object(d.a)({},t.payload);default:return e}};var h=a(60),v=a(16),O=a(46),E=function(e){return e.users},j=Object(O.a)([E],(function(e){return e.isSignedIn})),g=Object(O.a)([E],(function(e){return e.uid})),w=Object(O.a)([E],(function(e){return e.username})),k=a(17),N=a.n(k),y=a(35),C=a(13),x=a(30),S=a.n(x),I=(a(77),a(79),a(88),a(83),{apiKey:"AIzaSyBIcYy75L_O-eaVSl4uiYyWVQhzU-5gKSM",authDomain:"ec-app-b54b9.firebaseapp.com",databaseURL:"https://ec-app-b54b9.firebaseio.com",projectId:"ec-app-b54b9",storageBucket:"ec-app-b54b9.appspot.com",messagingSenderId:"1084820093826",appId:"1:1084820093826:web:3c593a6946c24849f7ad9b",measurementId:"G-8EM9YVLMXB"});S.a.initializeApp(I);var W=S.a.auth(),_=S.a.firestore(),q=(S.a.storage(),S.a.functions(),S.a.firestore.Timestamp),B=function(e){var t=e.children,a=Object(i.d)(),c=Object(i.e)((function(e){return e})),u=j(c);return Object(n.useEffect)((function(){u||a(function(){var e=Object(y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W.onAuthStateChanged((function(e){if(e){var a=e.uid;_.collection("users").doc(a).get().then((function(e){var n=e.data();t(p({isSignedIn:!0,role:n.role,uid:a,username:n.username}))}))}else t(Object(C.d)("/signin"))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),u?t:r.a.createElement(r.a.Fragment,null)},A=function(){var e=Object(i.e)((function(e){return e})),t=g(e),a=w(e),n=Object(i.d)();return console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Home"),r.a.createElement("button",{onClick:function(){return n(function(){var e=Object(y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W.signOut().then((function(){t({type:"SIGN_OUT",payload:{isSignedIn:!1,role:"",uid:"",username:""}}),t(Object(C.d)("/signin"))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8"),r.a.createElement("p",null,"\u30e6\u30fc\u30b6\u30fcID\uff1a",t),r.a.createElement("p",null,"\u30e6\u30fc\u30b6\u30fc\u540d\uff1a",a))},G=a(20),U=a(120),z=function(e){return r.a.createElement(U.a,{fullWidth:e.fullWidth,label:e.label,margin:"dense",multiline:e.multiline,required:e.required,rows:e.rows,value:e.value,type:e.type,onChange:e.onChange})},P=a(122),L=a(121),M=Object(L.a)({button:{backgroundColor:"#4dd0e1",color:"#000",fontSize:16,height:48,mariginButton:16,width:256}}),R=function(e){var t=M();return r.a.createElement(P.a,{className:t.button,variant:"contained",onClick:function(){return e.onClick()}},e.label)},T=function(){var e=Object(i.d)(),t=Object(n.useState)(""),a=Object(G.a)(t,2),c=a[0],u=a[1],l=Object(n.useState)(""),o=Object(G.a)(l,2),s=o[0],m=o[1],d=Object(n.useState)(""),p=Object(G.a)(d,2),f=p[0],b=p[1],h=Object(n.useState)(""),v=Object(G.a)(h,2),O=v[0],E=v[1],j=Object(n.useCallback)((function(e){u(e.target.value)}),[u]),g=Object(n.useCallback)((function(e){m(e.target.value)}),[m]),w=Object(n.useCallback)((function(e){b(e.target.value)}),[b]),k=Object(n.useCallback)((function(e){E(e.target.value)}),[E]);return r.a.createElement("div",{className:"c-section-container"},r.a.createElement("h2",{className:"u-text__headline u-text-center"},"\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332"),r.a.createElement("div",{className:"module-spacer--medium"}),r.a.createElement(z,{fullWidth:!0,label:"\u30e6\u30fc\u30b6\u30fc\u540d",multiline:!1,required:!0,rows:1,value:c,type:"text",onChange:j}),r.a.createElement(z,{fullWidth:!0,label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",multiline:!1,required:!0,rows:1,value:s,type:"email",onChange:g}),r.a.createElement(z,{fullWidth:!0,label:"\u30d1\u30b9\u30ef\u30fc\u30c9",multiline:!1,required:!0,rows:1,value:f,type:"password",onChange:w}),r.a.createElement(z,{fullWidth:!0,label:"\u78ba\u8a8d\u30d1\u30b9\u30ef\u30fc\u30c9",multiline:!1,required:!0,rows:1,value:O,type:"password",onChange:k}),r.a.createElement("div",{className:"module-spacer--medium"}),r.a.createElement("div",{className:"center"},r.a.createElement(R,{label:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u767b\u9332\u3059\u308b",onClick:function(){return e(function(e,t,a,n){return function(){var r=Object(y.a)(N.a.mark((function r(c){return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""!==e&&""!==t&&""!==a&&""!==n){r.next=3;break}return alert("\u5fc5\u9808\u9805\u76ee\u304c\u672a\u5165\u529b\u3067\u3059"),r.abrupt("return",!1);case 3:return a!==n&&alert("\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002"),r.abrupt("return",W.createUserWithEmailAndPassword(t,a).then((function(a){var n=a.user;if(n){var r=n.uid,u=q.now(),i={crewated_at:u,email:t,role:"customer",updated_at:u,username:e};_.collection("users").doc(r).set(i).then((function(){c(Object(C.d)("/"))}))}})));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(c,s,f,O))}})),r.a.createElement("div",{className:"module-spacer--medium"}),r.a.createElement("p",{className:"u-text-center",onClick:function(){return e(Object(C.d)("/signin"))}},"\u3059\u3067\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u306e\u65b9\u306f\u3053\u3061\u3089"))},V=function(){var e=Object(i.d)(),t=Object(n.useState)(""),a=Object(G.a)(t,2),c=a[0],u=a[1],l=Object(n.useState)(""),o=Object(G.a)(l,2),s=o[0],m=o[1],d=Object(n.useCallback)((function(e){u(e.target.value)}),[u]),f=Object(n.useCallback)((function(e){m(e.target.value)}),[m]);return r.a.createElement("div",{className:"c-section-container"},r.a.createElement("h2",{className:"u-text__headline u-text-center"},"\u30b5\u30a4\u30f3\u30a4\u30f3"),r.a.createElement("div",{className:"module-spacer--medium"}),r.a.createElement(z,{fullWidth:!0,label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",multiline:!1,required:!0,rows:1,value:c,type:"email",onChange:d}),r.a.createElement(z,{fullWidth:!0,label:"\u30d1\u30b9\u30ef\u30fc\u30c9",multiline:!1,required:!0,rows:1,value:s,type:"password",onChange:f}),r.a.createElement("div",{className:"module-spacer--medium"}),r.a.createElement("div",{className:"center"},r.a.createElement(R,{label:"Sign In.",onClick:function(){return e(function(e,t){return function(){var a=Object(y.a)(N.a.mark((function a(n){return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==e&&""!==t){a.next=3;break}return alert("\u5fc5\u9808\u9805\u76ee\u304c\u672a\u5165\u529b\u3067\u3059"),a.abrupt("return",!1);case 3:W.signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;if(t){var a=t.uid;_.collection("users").doc(a).get().then((function(e){var t=e.data();n(p({isSignedIn:!0,role:t.role,uid:a,username:t.username})),n(Object(C.d)("/"))}))}}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(c,s))}})),r.a.createElement("div",{className:"module-spacer--medium"}),r.a.createElement("p",{className:"u-text-center",onClick:function(){return e(Object(C.d)("/signup"))}},"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306a\u3044\u65b9\u306f\u3053\u3061\u3089"),r.a.createElement("p",{className:"u-text-center",onClick:function(){return e(Object(C.d)("/reset"))}},"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u304a\u5fd8\u308c\u306e\u65b9\u306f\u3053\u3061\u3089"))},Y=function(){var e=Object(i.d)(),t=Object(n.useState)(""),a=Object(G.a)(t,2),c=a[0],u=a[1],l=Object(n.useCallback)((function(e){u(e.target.value)}),[u]);return r.a.createElement("div",{className:"c-section-container"},r.a.createElement("h2",{className:"u-text__headline u-text-center"},"\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30ea\u30bb\u30c3\u30c8"),r.a.createElement("div",{className:"module-spacer--medium"}),r.a.createElement(z,{fullWidth:!0,label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",multiline:!1,required:!0,rows:1,value:c,type:"email",onChange:l}),r.a.createElement("div",{className:"module-spacer--medium"}),r.a.createElement("div",{className:"center"},r.a.createElement(R,{label:"Reset Password",onClick:function(){return e(function(e){return function(){var t=Object(y.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e){t.next=5;break}return alert("\u5fc5\u9808\u9805\u76ee\u304c\u672a\u5165\u529b\u3067\u3059\uff01"),t.abrupt("return",!1);case 5:W.sendPasswordResetEmail(e).then((function(){alert("\u5165\u529b\u3055\u308c\u305f\u30a2\u30c9\u30ec\u30b9\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u30ea\u30bb\u30c3\u30c8\u7528\u306e\u30e1\u30fc\u30eb\u3092\u9001\u308a\u307e\u3057\u305f\u3002"),a(Object(C.d)("/signin"))})).catch((function(){alert("\u30d1\u30b9\u30ef\u30fc\u30c9\u30ea\u30bb\u30c3\u30c8\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c))}})),r.a.createElement("div",{className:"module-spacer--medium"}),r.a.createElement("p",{className:"u-text-center",onClick:function(){return e(Object(C.d)("/signin"))}},"\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306b\u623b\u308b"))},D=a(57),F=a.n(D),J=function(){return r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/signup",component:T}),r.a.createElement(v.a,{exact:!0,path:"/signin",component:V}),r.a.createElement(v.a,{exact:!0,path:"/reset",component:Y}),r.a.createElement(B,null,r.a.createElement(v.a,{exact:!0,path:"(/)?",component:A}),r.a.createElement(v.a,{exact:!0,path:"/product/edit",component:F.a})))},K=(a(85),a(86),function(){return r.a.createElement("main",null,r.a.createElement(J,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H,Q=h.a(),X=(H=Q,Object(l.d)(Object(l.c)({router:Object(s.b)(H),users:b}),Object(l.a)(Object(m.a)(H),o.a)));u.a.render(r.a.createElement(i.a,{store:X},r.a.createElement(s.a,{history:Q},r.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.2cc5b70f.chunk.js.map